<ion-progress-bar type="indeterminate" *ngIf="loading"></ion-progress-bar>
<ion-button [routerLink]="'/home/orders/'">
  Back
</ion-button>
<ion-card>
  <ion-card-content>
    <form action="#" *ngIf="!loading"  class="ho-form ho-form-boxed" [formGroup]="editOrderForm">

      <ion-item>
        <ion-label position="floating">FROM:</ion-label>
        <ion-input formControlName="fromLocation" [value]="order?.fromLocation"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">TO:</ion-label>
        <ion-input formControlName="toLocation" [value]="order?.toLocation" ></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Price</ion-label>
        <ion-input formControlName="price" type="number" [value]="order?.price"></ion-input>
      </ion-item>
      <ion-label>Description</ion-label>
      <ion-item>
        <ion-textarea formControlName="description" [value]="order?.description" type="text"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label>Client</ion-label>
        <ion-select placeholder="Select One" formControlName="client" [value]="order?.client" [compareWith]="compareFnUser">
          <ion-select-option *ngFor="let user of users" [value]="user">{{user.firstName + ' ' + user.lastName}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Driver</ion-label>
        <ion-select placeholder="Select One" formControlName="driver"  [value]="order?.driver" [compareWith]="compareFnUser">
          <ion-select-option *ngFor="let user of drivers" [value]="user">{{user.firstName + ' ' + user.lastName}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Status</ion-label>
        <ion-select placeholder="Select One" formControlName="status" [value]="order?.status" [compareWith]="compareFnStatus()">
          <ion-select-option *ngFor="let status of statuses" [value]="status">{{status.name}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Company</ion-label>
        <ion-select placeholder="Select One" formControlName="company" [value]="order?.company" [compareWith]="compareFnCompany()">
          <ion-select-option *ngFor="let company of companies" [value]="company">{{company.name}}</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button [disabled]="loading || !editOrderForm.valid" expand="block" (click)="addOrder()">Edit</ion-button>
    </form>
  </ion-card-content>
</ion-card>